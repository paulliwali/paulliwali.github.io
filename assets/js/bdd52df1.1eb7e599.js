"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[96665],{27716:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"slip-box/reference-notes/Reactive Microsystems","title":"Introduction","description":"- Monolith -> microliths (temporary and an anti-pattern) -> microsystems","source":"@site/docs/slip-box/reference-notes/Reactive Microsystems.md","sourceDirName":"slip-box/reference-notes","slug":"/slip-box/reference-notes/Reactive Microsystems","permalink":"/docs/slip-box/reference-notes/Reactive Microsystems","draft":false,"unlisted":false,"editUrl":"https://github.com/paulliwali/paulliwali.github.io/tree/main/docs/docs/slip-box/reference-notes/Reactive Microsystems.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Random Podcast Notes","permalink":"/docs/slip-box/reference-notes/Random Podcast Notes"},"next":{"title":"Recommendation Systems","permalink":"/docs/slip-box/reference-notes/Recommendation Systems"}}');var t=s(74848),o=s(28453);const r={},l="Introduction",a={},c=[{value:"Chapter 2: Slaying the monolith",id:"chapter-2-slaying-the-monolith",level:2},{value:"Microservices needs to come as systems and that is the full transition from monolith to microsystems",id:"microservices-needs-to-come-as-systems-and-that-is-the-full-transition-from-monolith-to-microsystems",level:2}];function h(e){const n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Monolith -> microliths (temporary and an anti-pattern) -> microsystems","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The book will walk through the transition from monolith applications to microsystems that are scalable and resilient"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["As the modern user requirements for applications have come to expect millisecond latency and almost 100% uptime the only way to support his is through new architecture and tools","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The time for monolith application is over and we need to decompose the system into manageable, discrete services that can be scaled individually, that can fail, be rolled out and upgraded in isolation"}),"\n",(0,t.jsx)(n.li,{children:"==microservices=="}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"chapter-1-essential-traits-of-an-individual-microservice",children:"Chapter 1: Essential Traits of an individual microservice"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Isolation","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Biggest impact on the architecture because it will slice up everything so should be considered from day one"}),"\n",(0,t.jsx)(n.li,{children:"Makes it natural to adopt continuous delivery and easy to scale each service"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Autonomicity","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Once isolation is met, we can create fully autonomous services that make decisions independently"}),"\n",(0,t.jsx)(n.li,{children:"This is a foundational feature to allow for the development organization to also stay autonomous from each other"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Single responsibility","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Following the unix philosophy and OOP - single responsibility principle, microservices is referring to its scope"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Exclusive state","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Contain stateful components which means that data can be strongly consistent only within each service but ",(0,t.jsx)(n.em,{children:"never between services"})]}),"\n",(0,t.jsx)(n.li,{children:"This means that you can disguise a monolith as a set of microservices that has their data shared"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Mobility","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Allows the system to be elastic and adapt dynamically to its usage patterns"}),"\n",(0,t.jsx)(n.li,{children:"Makes use of modern resource structure"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"chapter-2-slaying-the-monolith",children:"Chapter 2: Slaying the monolith"}),"\n",(0,t.jsx)(n.p,{children:"The reason we don't want to build monolith application is because"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Strong coupling between and within each service creates friction when trying to understand and make improvements"}),"\n",(0,t.jsx)(n.li,{children:"Cascade failures"}),"\n",(0,t.jsx)(n.li,{children:"All or nothing scaling\nDon't also just build microliths"}),"\n",(0,t.jsx)(n.li,{children:"If you just blindly follow some kind of automated tool to convert a monolith into a microservice you might end up with a microlith"}),"\n",(0,t.jsx)(n.li,{children:"Which is just a single-instance service of several monoliths that communicates with synchronous protocols using CRUD through JPA talking to a SQL database"}),"\n",(0,t.jsx)(n.li,{children:"This still can't be scalable because it is a single instance application"}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"microservices-come-in-systems",children:"Microservices come in systems"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"One microservice is no microservice. Microservices come in systems."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The difficulty in microservices design is managing the space between the services."}),"\n",(0,t.jsx)(n.p,{children:"Embrace uncertainty - once we exit the boundary of the single-service instance, we enter the world of distributed systems"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Where systems fail in spectacular ways"}),"\n",(0,t.jsxs)(n.li,{children:["Where data gets lost\nOne constraint of distributed systems is that ==information has latency==, and this means that there is a high cost to maintain the illusion of a single ",(0,t.jsx)(n.code,{children:"now"})]}),"\n",(0,t.jsx)(n.li,{children:"the cure is enjoy the silence - minimize the service-to-service communication and coordination of state"}),"\n",(0,t.jsxs)(n.li,{children:["ACID 2.0 for consistent protocol design","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Associative: grouping of messages does not matter and allows for batching"}),"\n",(0,t.jsx)(n.li,{children:"Commutative: ordering of message does not matter"}),"\n",(0,t.jsx)(n.li,{children:"Idempotent: duplication of the message does not matter"}),"\n",(0,t.jsx)(n.li,{children:"Distributed: added for ACID acronym"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"chapter-4-events-first-domain-driven-design",children:"Chapter 4: Events first domain driven design"}),"\n",(0,t.jsx)(n.p,{children:"Shifted the focus from nouns to verbs in the domain. This helps us to understand how change propagates in the system"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Communication patterns"}),"\n",(0,t.jsx)(n.li,{children:"Workflow"}),"\n",(0,t.jsx)(n.li,{children:"Figuring out who is talking to whom"}),"\n",(0,t.jsx)(n.li,{children:"Who is responsible for what data\nForces you to think about the behavior of the system as opposed to the structure inside the system"}),"\n",(0,t.jsx)(n.li,{children:"Use event storming to collect the facts by distilling the essence of the domain through events and commands\nBe conservative in what you do, but liberal in what you accept from others"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"I didn't really understand this chapter"}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"chapter-5-toward-reactive-microsystems",children:"Chapter 5: Toward reactive microsystems"}),"\n",(0,t.jsx)(n.p,{children:"Reactive system takes a holistic view on system design, focusing on keeping distributed systems responsive by making them resilient and elastic."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Message driven, based upon asynchronous message passing"}),"\n",(0,t.jsx)(n.li,{children:"Allowing for elasticity, location transparency, isolation, supervision and self healing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"While reactive programming is a technique for making individual components performant and efficient"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"i.e. Akka streams"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Reactive Programming"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Essential to the design of microservices"}),"\n",(0,t.jsxs)(n.li,{children:["Asynchronous and nonblocking I/O can eliminate the biggest threat to scaling - contention","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A process should not hold a thread hostage"}),"\n",(0,t.jsx)(n.li,{children:"Blocking call holds the underlying thread hostage while waiting for a response, this is not efficient"}),"\n",(0,t.jsx)(n.li,{children:"Reconsider using synchronous HTTP (with REST), because it introduces strong coupling between services"}),"\n",(0,t.jsx)(n.li,{children:"Asynchronous messaging makes a much better default for communication like pub/sub messaging over a message broker like Kafka or AWS Kinesis"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Embrace streaming, and reacting as data arrive"}),"\n",(0,t.jsxs)(n.li,{children:["Apply back-pressure","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Having a backchannel where the consumer can manage control flow by communicating with the producer"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["At someone else's mercy","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Wrap dangerous call in a circuit breaker to ensure it doesn't crash our service"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Reactive Systems"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A set of principles for building modern distributed systems that are well prepared to meet the demands of responsiveness after failure (resilience) and under load (elasticity)"}),"\n",(0,t.jsx)(n.li,{children:"Provides responsiveness as value, elastic and resilient as forms and message drive as the means"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Asynchronous message passing"})," is the key to loosely coupled systems so the communication flow between them is independent of time and space"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"microservices-needs-to-come-as-systems-and-that-is-the-full-transition-from-monolith-to-microsystems",children:"Microservices needs to come as systems and that is the full transition from monolith to microsystems"})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(96540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);