"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[39624],{17500:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>o});var i=s(85893),a=s(11151);const t={},r=void 0,l={id:"slip-box/reference-notes/Primer on casual inference",title:"Primer on casual inference",description:"- Metadata",source:"@site/docs/slip-box/reference-notes/Primer on casual inference.md",sourceDirName:"slip-box/reference-notes",slug:"/slip-box/reference-notes/Primer on casual inference",permalink:"/docs/slip-box/reference-notes/Primer on casual inference",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/slip-box/reference-notes/Primer on casual inference.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcf0 Summary (use your own words)",permalink:"/docs/slip-box/reference-notes/Practical SQL for Data Analysis"},next:{title:"Project Hail Mary",permalink:"/docs/slip-box/reference-notes/Project Hail Mary"}},c={},o=[];function d(e){const n={a:"a",annotation:"annotation",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",semantics:"semantics",span:"span",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Metadata","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Source: ",(0,i.jsx)(n.a,{href:"https://towardsdatascience.com/beyond-a-b-testing-primer-on-causal-inference-d8e462d90a0b",children:"https://towardsdatascience.com/beyond-a-b-testing-primer-on-causal-inference-d8e462d90a0b"})]}),"\n",(0,i.jsx)(n.li,{children:"Tags: #machine-learning #model"}),"\n",(0,i.jsx)(n.li,{children:"Related: [[Causal Inference]]"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Predictive models on their own can't answer the questions business usually want to answer -> will doing A cause B?","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Prediction and inference are opposite goals"}),"\n",(0,i.jsx)(n.li,{children:"Correct inference often requires us to sacrifice predictive power"}),"\n",(0,i.jsx)(n.li,{children:"Maximum predictive power can lead to incorrect causal inference"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Experiments","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Simple A/B Test","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'From a frequentist POV, you want to do a t-test to ensure there are a "large" difference between two populations'}),"\n",(0,i.jsxs)(n.li,{children:["Calculate power as a function of duration (holding ",(0,i.jsxs)(n.span,{className:"katex",children:[(0,i.jsx)(n.span,{className:"katex-mathml",children:(0,i.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(n.semantics,{children:[(0,i.jsx)(n.mrow,{children:(0,i.jsx)(n.mi,{children:"\u03b1"})}),(0,i.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\alpha"})]})})}),(0,i.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"\u03b1"})]})})]})," and effect size constant)"]}),"\n",(0,i.jsxs)(n.li,{children:["Use arbitrary ",(0,i.jsxs)(n.span,{className:"katex",children:[(0,i.jsx)(n.span,{className:"katex-mathml",children:(0,i.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(n.semantics,{children:[(0,i.jsxs)(n.mrow,{children:[(0,i.jsx)(n.mi,{children:"\u03b1"}),(0,i.jsx)(n.mo,{children:"="}),(0,i.jsx)(n.mn,{children:"0.1"})]}),(0,i.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\alpha = 0.1"})]})})}),(0,i.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,i.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"\u03b1"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(n.span,{className:"mrel",children:"="}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(n.span,{className:"mord",children:"0.1"})]})]})]})," and ",(0,i.jsxs)(n.span,{className:"katex",children:[(0,i.jsx)(n.span,{className:"katex-mathml",children:(0,i.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(n.semantics,{children:[(0,i.jsxs)(n.mrow,{children:[(0,i.jsx)(n.mi,{children:"\u03b2"}),(0,i.jsx)(n.mo,{children:"="}),(0,i.jsx)(n.mn,{children:"0.9"})]}),(0,i.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\beta = 0.9"})]})})}),(0,i.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,i.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.05278em"},children:"\u03b2"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(n.span,{className:"mrel",children:"="}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(n.span,{className:"mord",children:"0.9"})]})]})]})," if you think a false negative is just as bad as a false positive"]}),"\n",(0,i.jsx)(n.li,{children:"Perform a one-sided test, usually care more about the sign than the magnitude"}),"\n",(0,i.jsxs)(n.li,{children:["The outcomes","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"B is significantly better than A. Ship B"}),"\n",(0,i.jsx)(n.li,{children:"B is significantly worse than A. Keep A"}),"\n",(0,i.jsx)(n.li,{children:"B not statistically different from A??? Do we keep A or ship B?"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"But usually to detect the effect size we require a large sample that is not possible"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Bayesian Approach","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Treat the group assignment as a random effect"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Factorial Design"}),"\n",(0,i.jsx)(n.li,{children:"Crossover Design"}),"\n",(0,i.jsx)(n.li,{children:"Blocking"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Quasi-Experiments","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Difference-in-differences"}),"\n",(0,i.jsx)(n.li,{children:"Interrupted time series"}),"\n",(0,i.jsx)(n.li,{children:"Synthetic controls"}),"\n",(0,i.jsxs)(n.li,{children:["Google's ",(0,i.jsx)(n.a,{href:"https://towardsdatascience.com/beyond-a-b-testing-primer-on-causal-inference-d8e462d90a0b",children:"CausalImpact"})," package","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Observe a time series X with some intervention"}),"\n",(0,i.jsx)(n.li,{children:"Build a [[counterfactual]]: what would the time series have been without the intervention"}),"\n",(0,i.jsx)(n.li,{children:"Look for ingredients to put into a blender"}),"\n",(0,i.jsx)(n.li,{children:"End result is a good counterfactual"}),"\n",(0,i.jsx)(n.li,{children:"The difference between observed and counterfactual is the [[terra-cotta]] ==causal effect estimate=="}),"\n",(0,i.jsxs)(n.li,{children:["[[champagne]] ==Key Assumptions=='","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Changes in X does not affect the ingredients in the synthetic control"}),"\n",(0,i.jsx)(n.li,{children:"Relationship between X and ingredients would have continued the same way without the intervention"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Most work is involved in finding the ingredients, and making sure the ingredients are not causing arbitrary estimates"}),"\n",(0,i.jsx)(n.li,{children:"[[champagne]]==Rule of thumb: the post-intervention period shouldn't be too long because forecasts break down the farther we look at ahead. Pre-intervention period should be 3 to 4 times the length as the post-intervention period=="}),"\n",(0,i.jsx)(n.li,{children:"If there are lots of pre-intervention data, you can split that into 3 periods for exploration (old data to find ingredients), validation (middle) and estimate (most recent one)"}),"\n",(0,i.jsx)(n.li,{children:"Choose ingredients that have correlation with X"}),"\n",(0,i.jsx)(n.li,{children:"Choose the ingredients and X before the quasi-experiment is run"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Observational Data","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"When we cannot intervene due to real-life constraints and we can only observe"}),"\n",(0,i.jsx)(n.li,{children:"Casual DAG"}),"\n"]}),"\n"]}),"\n"]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>r});var i=s(67294);const a={},t=i.createContext(a);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);